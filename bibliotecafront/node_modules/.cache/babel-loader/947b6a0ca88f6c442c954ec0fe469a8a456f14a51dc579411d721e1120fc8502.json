{"ast":null,"code":"import _regeneratorRuntime from\"/home/jon/Documentos/BIBLIOTECA/bibliotecafront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jon/Documentos/BIBLIOTECA/bibliotecafront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jon/Documentos/BIBLIOTECA/bibliotecafront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import CabecalhoCadastro from\"../componentes/CabecalhoCadastro\";import{Form,Button}from'react-bootstrap';import{useParams,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{alterarAutor,excluirAutor,getAutor,inserirAutor}from\"../servico/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AutorCad(){//Declarando uma variável para utilizar o redirecionamento de tela\nvar navigate=useNavigate();//Lendo o id recebido na rota\nvar _useParams=useParams(),id=_useParams.id;//Variáveis useState para cada campo da tabela, exceto chave primária\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),autor=_useState2[0],setAutor=_useState2[1];// executa quando inicia a pagina\nuseEffect(function(){var selecionar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resposta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getAutor(id);case 2:resposta=_context.sent;setAutor(resposta.autor);case 4:case\"end\":return _context.stop();}},_callee);}));return function selecionar(){return _ref.apply(this,arguments);};}();if(id){selecionar();}},[id]);var voltar=function voltar(){navigate('/autores');};var cancelar=function cancelar(){voltar();};var salvar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!id){_context2.next=5;break;}_context2.next=3;return alterarAutor(id,autor);case 3:_context2.next=7;break;case 5:_context2.next=7;return inserirAutor(autor);case 7:voltar();case 8:case\"end\":return _context2.stop();}},_callee2);}));return function salvar(){return _ref2.apply(this,arguments);};}();var excluir=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(window.confirm('Deseja excluir o registro agora?')){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return excluirAutor(id);case 4:voltar();case 5:case\"end\":return _context3.stop();}},_callee3);}));return function excluir(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CabecalhoCadastro,{titulo:\"Autor\",id:id}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Autor\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:autor,onChange:function onChange(e){return setAutor(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return salvar();},children:\"Salvar\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return cancelar();},children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return excluir();},hidden:!id,children:\"Excluir\"})]})]});}","map":{"version":3,"names":["CabecalhoCadastro","Form","Button","useParams","useNavigate","useEffect","useState","alterarAutor","excluirAutor","getAutor","inserirAutor","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AutorCad","navigate","_useParams","id","_useState","_useState2","_slicedToArray","autor","setAutor","selecionar","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resposta","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","voltar","cancelar","salvar","_ref2","_callee2","_callee2$","_context2","excluir","_ref3","_callee3","_callee3$","_context3","window","confirm","abrupt","children","titulo","Group","className","Label","Control","type","value","onChange","e","target","variant","onClick","hidden"],"sources":["/home/jon/Documentos/BIBLIOTECA/bibliotecafront/src/paginas/AutorCad.js"],"sourcesContent":["import CabecalhoCadastro from \"../componentes/CabecalhoCadastro\";\nimport { Form, Button } from 'react-bootstrap';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { alterarAutor, excluirAutor, getAutor, inserirAutor } from \"../servico/api\"\n\nexport default function AutorCad(){\n    //Declarando uma variável para utilizar o redirecionamento de tela\n    const navigate = useNavigate();\n\n    //Lendo o id recebido na rota\n    const { id } = useParams();\n\n    //Variáveis useState para cada campo da tabela, exceto chave primária\n    const [autor, setAutor] = useState('');\n\n    // executa quando inicia a pagina\n    useEffect(()=>{\n        const selecionar = async () => {\n            let resposta = await getAutor(id)\n            setAutor(resposta.autor)\n        }\n\n        if (id){\n            selecionar()\n        }\n    }, [id]);\n\n    const voltar = () => {\n        navigate('/autores')\n    }\n\n    const cancelar = () => {\n        voltar();\n    }\n\n    const salvar = async () => {\n\n        if (id){\n            //Put - Alterar\n            await alterarAutor(id, autor)\n        }\n        else {\n            //Post - Inserir\n            await inserirAutor(autor)\n        }\n\n        voltar()\n    }\n\n    const excluir = async () => {\n        if (! window.confirm('Deseja excluir o registro agora?'))\n            return;\n            await excluirAutor(id)\n            voltar()\n    }\n\n    return (\n        <>\n            <CabecalhoCadastro titulo=\"Autor\" id={id}/>\n\n            <Form>\n                <Form.Group className=\"mb-3\">\n                    <Form.Label>Autor</Form.Label>\n                    <Form.Control type=\"text\" value={autor} onChange={e => setAutor(e.target.value)}/>\n                </Form.Group>\n\n                <Button variant=\"primary\" onClick={()=>salvar()}>Salvar</Button>\n                <Button variant=\"secondary\" onClick={()=>cancelar()}>Cancelar</Button>\n                <Button variant=\"danger\" onClick={()=>excluir()} hidden={!id}>Excluir</Button>\n            </Form>\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}