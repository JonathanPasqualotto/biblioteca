{"ast":null,"code":"import _regeneratorRuntime from\"/home/jon/Documentos/BIBLIOTECA/bibliotecafront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jon/Documentos/BIBLIOTECA/bibliotecafront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jon/Documentos/BIBLIOTECA/bibliotecafront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import CabecalhoCadastro from\"../componentes/CabecalhoCadastro\";import{Form,Button}from'react-bootstrap';import{useParams,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{alterarPessoa,excluirPessoa,getPessoa,inserirPessoa}from\"../servico/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function PessoaCad(){//Declarando uma variável para utilizar o redirecionamento de tela\nvar navigate=useNavigate();//Lendo o id recebido na rota\nvar _useParams=useParams(),id=_useParams.id;//Variáveis useState para cada campo da tabela, exceto chave primária\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),pessoa=_useState2[0],setPessoa=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),telefone=_useState6[0],setTelefone=_useState6[1];// executa quando inicia a pagina\nuseEffect(function(){var selecionar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resposta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getPessoa(id);case 2:resposta=_context.sent;setPessoa(resposta.pessoa);setEmail(resposta.email);setTelefone(resposta.telefone);case 6:case\"end\":return _context.stop();}},_callee);}));return function selecionar(){return _ref.apply(this,arguments);};}();if(id){selecionar();}},[id]);var voltar=function voltar(){navigate('/pessoas');};var cancelar=function cancelar(){voltar();};var salvar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!id){_context2.next=5;break;}_context2.next=3;return alterarPessoa(id,pessoa,email,telefone);case 3:_context2.next=7;break;case 5:_context2.next=7;return inserirPessoa(pessoa,email,telefone);case 7:voltar();case 8:case\"end\":return _context2.stop();}},_callee2);}));return function salvar(){return _ref2.apply(this,arguments);};}();var excluir=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(window.confirm('Deseja excluir o registro agora?')){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return excluirPessoa(id);case 4:voltar();case 5:case\"end\":return _context3.stop();}},_callee3);}));return function excluir(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CabecalhoCadastro,{titulo:\"Pessoa\",id:id}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pessoa\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:pessoa,onChange:function onChange(e){return setPessoa(e.target.value);}}),/*#__PURE__*/_jsx(Form.Label,{children:\"E-mail\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Form.Label,{children:\"Telefone\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:telefone,onChange:function onChange(e){return setTelefone(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return salvar();},children:\"Salvar\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return cancelar();},children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return excluir();},hidden:!id,children:\"Excluir\"})]})]});}","map":{"version":3,"names":["CabecalhoCadastro","Form","Button","useParams","useNavigate","useEffect","useState","alterarPessoa","excluirPessoa","getPessoa","inserirPessoa","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PessoaCad","navigate","_useParams","id","_useState","_useState2","_slicedToArray","pessoa","setPessoa","_useState3","_useState4","email","setEmail","_useState5","_useState6","telefone","setTelefone","selecionar","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resposta","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","voltar","cancelar","salvar","_ref2","_callee2","_callee2$","_context2","excluir","_ref3","_callee3","_callee3$","_context3","window","confirm","abrupt","children","titulo","Group","className","Label","Control","type","value","onChange","e","target","variant","onClick","hidden"],"sources":["/home/jon/Documentos/BIBLIOTECA/bibliotecafront/src/paginas/PessoaCad.js"],"sourcesContent":["import CabecalhoCadastro from \"../componentes/CabecalhoCadastro\";\nimport { Form, Button } from 'react-bootstrap';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { alterarPessoa, excluirPessoa, getPessoa, inserirPessoa } from \"../servico/api\"\n\nexport default function PessoaCad(){\n    //Declarando uma variável para utilizar o redirecionamento de tela\n    const navigate = useNavigate();\n\n    //Lendo o id recebido na rota\n    const { id } = useParams(); \n\n    //Variáveis useState para cada campo da tabela, exceto chave primária\n    const [pessoa, setPessoa] = useState('');\n    const [email, setEmail] = useState('');\n    const [telefone, setTelefone] = useState('');\n\n    // executa quando inicia a pagina\n    useEffect(()=>{\n        const selecionar = async () => {\n            let resposta = await getPessoa(id)\n            setPessoa(resposta.pessoa)\n            setEmail(resposta.email)\n            setTelefone(resposta.telefone)\n        }\n\n        if (id){\n            selecionar()\n        }\n    }, [id]);\n\n    const voltar = () => {\n        navigate('/pessoas')\n    }\n\n    const cancelar = () => {\n        voltar();\n    }\n\n    const salvar = async () => {\n\n        if (id){\n            //Put - Alterar\n            await alterarPessoa(id,pessoa,email,telefone)\n        }\n        else {\n            //Post - Inserir\n            await inserirPessoa(pessoa,email,telefone)\n        }\n\n        voltar()\n    }\n\n    const excluir = async () => {\n        if (! window.confirm('Deseja excluir o registro agora?'))\n            return;\n            await excluirPessoa(id)\n            voltar()\n    }\n\n    return (\n        <>\n            <CabecalhoCadastro titulo=\"Pessoa\" id={id}/>\n\n            <Form>\n                <Form.Group className=\"mb-3\">\n                    <Form.Label>Pessoa</Form.Label>\n                    <Form.Control type=\"text\" value={pessoa} onChange={e => setPessoa(e.target.value)}/>\n                    <Form.Label>E-mail</Form.Label>\n                    <Form.Control type=\"email\" value={email} onChange={e => setEmail(e.target.value)}/>\n                    <Form.Label>Telefone</Form.Label>\n                    <Form.Control type=\"text\" value={telefone} onChange={e => setTelefone(e.target.value)}/>\n                </Form.Group>\n\n                <Button variant=\"primary\" onClick={()=>salvar()}>Salvar</Button>\n                <Button variant=\"secondary\" onClick={()=>cancelar()}>Cancelar</Button>\n                <Button variant=\"danger\" onClick={()=>excluir()} hidden={!id}>Excluir</Button>\n            </Form>\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}